{"version":3,"sources":["../app/api.js"],"names":["app","current","dev","get","prod","db_endpoint","mongodb","user","password","server","database","db_ready","connect","useMongoClient","err","db","console","log","use"],"mappings":"AAAA;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,MAAM,wBAAV;;AAEA;AACA,IAAIC,UAAU,iBAAOC,GAArB;AACA,IAAGF,IAAIG,GAAJ,CAAQ,KAAR,MAAmB,YAAtB,EAAoC;AAChCF,YAAU,iBAAOG,IAAjB;AACH;;AAED,IAAIC,6BAA2BJ,QAAQK,OAAR,CAAgBC,IAA3C,GAAkDN,QAAQK,OAAR,CAAgBE,QAAlE,SAA8EP,QAAQK,OAAR,CAAgBG,MAA9F,SAAwGR,QAAQK,OAAR,CAAgBI,QAA5H;;AAEA;AACA,IAAIC,WAAW,mBAASC,OAAT,CAAiBP,WAAjB,EAA8B,EAACQ,gBAAgB,IAAjB,EAA9B,EAAsD,UAACC,GAAD,EAAMC,EAAN,EAAa;AAChF,MAAGD,GAAH,EAAQ;AACNE,YAAQC,GAAR,CAAY,+BAA6BH,GAAzC;AACD,GAFD,MAEK;AACHE,YAAQC,GAAR,CAAY,0BAAZ;AACD;AACF,CANc,CAAf;;AASA;AACAjB,IAAIkB,GAAJ,CAAQ,GAAR;;AAEA;AACA;kBACelB,G","file":"api.js","sourcesContent":["\"use strict\";\nimport express from 'express';\nimport routes from './routes';\nimport config from '../config';\nimport mongoose from 'mongoose';\n\nlet app = express();\n\n// TODO: Set current config\nlet current = config.dev;\nif(app.get('env') === 'production') {\n    current = config.prod;\n}\n\nlet db_endpoint = `mongodb://${current.mongodb.user}${current.mongodb.password}@${current.mongodb.server}/${current.mongodb.database}`;\n\n// TODO: Create and enable connection to the database\nlet db_ready = mongoose.connect(db_endpoint, {useMongoClient: true}, (err, db) => {\n  if(err) {\n    console.log('Error connecting to the DB'+err);\n  }else{\n    console.log('DB connection succesfull');\n  }\n})\n\n\n// Will have to get the port from the config\napp.use('/', routes);\n\n// Export the app object with the connections and the routes\n// and the established conneciton with the database\nexport default app;\n"]}